# PSO_routes

算法设计的关键在于如何向表现较好的个体学习，标准粒子群算法引入惯性因子w、自我认知因子c1、社会认知因子c2分别作为自身、当代最优解和历史最优解的权重，指导粒子速度和位置的更新，这在求解函数极值问题时比较容易实现，而在VRP问题上，速度位置的更新则难以直接采用加权的方式进行，一个常见的方法是采用基于遗传算法交叉算子的混合型粒子群算法进行求解，这里采用顺序交叉算子，对惯性因子w、自我认知因子c1、社会认知因子c2则以w/(w+c1+c2)，c1/(w+c1+c2)，c2/(w+c1+c2)的概率接受粒子本身、当前最优解、全局最优解交叉的父代之一（即按概率选择其中一个作为父代，不加权）。

# main.py  如下

1 场景
单向：纯取货/纯送货；
单配送中心：只有一个配送中心/车场；
单车型：只考虑一种车型，
需求不可拆分：客户需求只能有一辆车满足；
车辆封闭：完成配送任务的车辆需回到配送中心；
车辆充足：不限制车辆数量，即配送车辆需求均能满足；
非满载：任意客户点的需求量小于车辆最大载重；

2 要求
优化目标：最小化车辆启动成本和车辆行驶成本之和；
约束条件：车辆行驶距离约束，重量约束；
已知信息：配送中心位置、客户点位置、客户点需求、车辆最大载重、车辆最大行驶距离、车辆启动成本、车辆单位距离行驶成本；

基于粒子群的cvrp问题建模求解。
对一系列装卸货点进行适当的路径规划，
在满足约束条件（客户需求、车辆载重和容积、车型、车辆行驶里程、配送时间窗、配送中心数量等限制）
和目标最优化（路程最短、成本最低、使用车辆数最少、配送时间最快等）下，
将客户的配送需求从配送中心送达客户点，或从客户点送回配送中心。

数学模型

![20210427135610157](https://user-images.githubusercontent.com/112362703/190364734-c918e35d-383d-4163-85b6-24d1d7e55bfa.jpg)
![20210427135634136](https://user-images.githubusercontent.com/112362703/190364754-d584f907-510f-4a6f-8e17-074e8faa495f.jpg)



# main2.py  如下

1 场景
单向：纯取货/纯送货；
单配送中心：只有一个配送中心/车场；
单车型：只考虑一种车型，
需求不可拆分：客户需求只能有一辆车满足；
车辆封闭：完成配送任务的车辆需回到配送中心；
车辆充足：不限制车辆数量，即配送车辆需求均能满足；
非满载：任意客户点的需求量小于车辆最大载重；
软时间窗：[最早可服务时间ET，最晚可服务时间LT]，早于ET会产生等待成本，晚于LT会有惩罚成本；

2 要求
优化目标：最小化车辆启动成本、车辆行驶成本、等待成本和惩罚成本之和；
约束条件：车辆行驶距离约束，重量约束，时间窗约束；
已知信息：配送中心位置、客户点位置、客户点需求、客户服务时间窗要求，客户服务时间，车辆最大载重、车辆最大行驶距离、车辆行驶速度、车辆启动成本、车辆单位距离行驶成本，等待成本，惩罚成本；

数学模型

![20210531231707452](https://user-images.githubusercontent.com/112362703/190573756-394517c1-1c0a-4fae-83ab-7dc2e6fb43e4.jpg)
![20210531231859921](https://user-images.githubusercontent.com/112362703/190573778-0c1f10e3-ba61-4dd5-89c3-937b33ffbb02.jpg)

数据源如下

![2021053123244540 ](https://user-images.githubusercontent.com/112362703/190574258-e06e9546-d3a6-44dd-932f-9fb9cdc032d6.jpg)

